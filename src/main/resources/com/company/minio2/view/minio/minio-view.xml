<view xmlns="http://jmix.io/schema/flowui/view"
      title="msg://minioView.title">
    <data>
        <collection id="bucketsDc"
                    class="com.company.minio2.dto.BucketDto"/>
        <collection id="objectDc"
                    class="com.company.minio2.dto.ObjectDto"/>
        <collection id="metadataDc"
                    class="com.company.minio2.dto.ObjectDto"/>
    </data>

    <layout width="100%" height="100%">
        <split width="100%" height="100%" splitterPosition="30">
            <!-- LEFT -->
            <vbox width="100%" height="100%">
                <hbox spacing="true">
                    <button id="createBucketBtn"
                            text="New"
                            classNames="new-bucket-btn"/>
                </hbox>
                <treeDataGrid id="buckets"
                              dataContainer="bucketsDc"
                              hierarchyProperty="parent"
                              width="100%" height="100%">
                    <actions>
                        <action id="createFolder" text="New Folder"/>
                        <action id="create" text="New Bucket" />
                        <action id="delete" text="Delete" />
                    </actions>
                </treeDataGrid>
            </vbox>

            <!-- RIGHT -->
            <split width="100%" height="100%" splitterPosition="70">
                <vbox width="100%" height="100%">
                    <hbox spacing="true" alignItems="CENTER">
                        <textField id="prefixField" placeholder="Search file.."/>
                        <button id="searchBtn" text="Search" classNames="btn-search"/>
                        <upload id="fileUpload"/>
                        <button id="backBtn" text="Back"/>
                    </hbox>
                    <hbox id="multiUploadBox" spacing="true" alignItems="CENTER"/>
                    <dataGrid id="objects"
                              dataContainer="objectDc"
                              width="100%" height="100%"
                              selectionMode="SINGLE">
                        <columns>
                            <column property="name"          header="Name"/>
                            <column property="size"         header="Size"/>
                            <column property="type"         header="Type"/>
                            <column property="lastModified" header="Date"/>
                        </columns>
                        <actions>
                            <action id="create" text="New Folder" />
                            <action id="delete" text="Delete" />
                            <action id="download" text="Download" />
                            <action id="upload" text="Upload file"/>
                        </actions>
                    </dataGrid>
                </vbox>
                
                <!-- METADATA SECTION -->
                <vbox id="metadataPanel" width="100%" height="100%">
                    <hbox spacing="true" alignItems="CENTER">
                        <h3 text="Object Info"/>
                        <button id="toggleMetadataBtn" text="Hide" classNames="toggle-metadata-btn"/>
                    </hbox>
                    <vbox id="metadataContent" width="100%" height="100%" classNames="metadata-content">
                        <hbox spacing="true" alignItems="CENTER" classNames="metadata-row">
                            <span text="Name:" classNames="metadata-label"/>
                            <span id="metadataName" text="" classNames="metadata-value"/>
                        </hbox>
                        <hbox spacing="true" alignItems="CENTER" classNames="metadata-row">
                            <span text="Size:" classNames="metadata-label"/>
                            <span id="metadataSize" text="" classNames="metadata-value"/>
                        </hbox>
                        <hbox spacing="true" alignItems="CENTER" classNames="metadata-row">
                            <span text="Last Modified:" classNames="metadata-label"/>
                            <span id="metadataLastModified" text="" classNames="metadata-value"/>
                        </hbox>
                        <hbox spacing="true" alignItems="CENTER" classNames="metadata-row">
                            <span text="ETag:" classNames="metadata-label"/>
                            <span id="metadataETag" text="" classNames="metadata-value"/>
                        </hbox>
                        <hbox spacing="true" alignItems="CENTER" classNames="metadata-row">
                            <span text="Content-Type:" classNames="metadata-label"/>
                            <span id="metadataContentType" text="" classNames="metadata-value"/>
                        </hbox>
                    </vbox>
                </vbox>
            </split>
        </split>
    </layout>
</view>
